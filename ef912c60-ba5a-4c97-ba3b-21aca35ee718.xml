<joblist>
  <job>
    <context>
      <options preserveOrder='true'>
        <option name='my_fruit' value='Apple' values='Apple,Mango,Banana' valuesListDelimiter=','>
          <description>Select a fruit from the list (Apple, Mango, Banana)</description>
          <label>Select a fruit from the list (Apple, Mango, Banana)</label>
        </option>
      </options>
    </context>
    <defaultTab>nodes</defaultTab>
    <description>Pick my fruits</description>
    <executionEnabled>true</executionEnabled>
    <group>Rules</group>
    <id>ef912c60-ba5a-4c97-ba3b-21aca35ee718</id>
    <loglevel>INFO</loglevel>
    <name>myfruits</name>
    <nodeFilterEditable>false</nodeFilterEditable>
    <plugins />
    <scheduleEnabled>true</scheduleEnabled>
    <schedules />
    <sequence keepgoing='false' strategy='ruleset'>
      <command>
        <description>Receive Input from options</description>
        <exec>echo ${option.my_fruit}</exec>
        <plugins>
          <LogFilter type='key-value-data'>
            <config>
              <invalidKeyPattern>\s|\$|\{|\}|\\</invalidKeyPattern>
              <logData>false</logData>
              <name>my_fruit</name>
              <regex>^(.*)$</regex>
            </config>
          </LogFilter>
          <LogFilter type='quiet-output'>
            <config>
              <loglevel>verbose</loglevel>
              <quietMatch>true</quietMatch>
              <regex>.*</regex>
            </config>
          </LogFilter>
        </plugins>
      </command>
      <command>
        <description>Export the Fruit variable</description>
        <step-plugin type='export-var'>
          <configuration>
            <entry key='export' value='my_fruit' />
            <entry key='group' value='export' />
            <entry key='value' value='${data.my_fruit*}' />
          </configuration>
        </step-plugin>
      </command>
      <command>
        <description>Mango Step</description>
        <exec>echo "Mango is the king of fruits"</exec>
      </command>
      <command>
        <description>Banana Step</description>
        <exec>echo "Banana is a tropical fruit"</exec>
      </command>
      <command>
        <description>Apple step</description>
        <exec>echo "Apple a day keeps the doctor away"</exec>
      </command>
      <pluginConfig>
        <WorkflowStrategy>
          <ruleset>
            <rules><![CDATA[# Autogenerated Directives
[1] run-at-start
[2] run-after:1
[3] if:export.my_fruit==Mango
[4] if:export.my_fruit==Banana
[5] if:export.my_fruit==Apple]]></rules>
          </ruleset>
        </WorkflowStrategy>
      </pluginConfig>
    </sequence>
    <uuid>ef912c60-ba5a-4c97-ba3b-21aca35ee718</uuid>
  </job>
</joblist>
